
СОЗДАЙТЕ НОВЫЙ ОБЪЕКТ С ПОМОЩЬЮ УЖЕ СУЩЕСТВУЮЩЕГО

Представьте, что у нас имеется некий объект obj, созданный функцией-конструктором – мы не знаем какой именно, но хотелось бы создать ещё один объект такого же типа.

Можем ли мы сделать так?

let obj2 = new obj.constructor();
Приведите пример функции-конструктора для объекта obj, с которой такой вызов корректно сработает. И пример функции-конструктора, с которой такой код поведёт себя неправильно.



ОТВЕТ:

Да мы можем так сделать, при условии, что объект obj создавался с использованием оператора new
и функции у которой свойство prototype является объектом и имеет свойство constructor, ссылающееся на эту функцию

Например:
объект obj создавался функцией func() {}

и func.prototype.constructor == func истинно:

тогда obj2 можно создать с цепочкой прототипов как у obj описанным выше способом


а например, если мы задали
func.prototype = somePrototypeObj;

и теперь func.prototype.constructor == someAnotherFunc истинно:

то obj2 будет иметь отличную от obj цепочку прототипов
